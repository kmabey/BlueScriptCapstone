@model IEnumerable<Blue_Script.Scene>
@{
	ViewBag.Title = "My BlueScript";
}
<div class="row">
	<div class="col-md-12">
		<div class="workarea" id="workarea">
			<div id="tabs">
				<ul class="nav nav-pills">
					<li><a href="#tabs-1">Scenes</a></li>
					<li><a href="#tabs-2">Characters</a></li>
					<li><a href="#tabs-3">Settings</a></li>
				</ul>
				<div id="tabs-1" class="tab">
					@for (var i = 0; i < Model.Count(); i++)
	 {
						<div class="event well" draggable="true">
							@Html.Action("ScenePartial", "Home", new { id = Model.ElementAt(i).ID, sID = Model.ElementAt(i).SettingID })
						</div>				
	 }
					<div class="event">
						<a href="@Url.Action("CreateScene", "Home")"><i class="icon-plus-sign-alt icon-4x"></i>
						</a>
					</div>
				</div>
				<div id="tabs-2" class="tab">
					@foreach (var item in ViewBag.myCharacters)
	 {
						<div class="event well" draggable="true">
							@Html.Action("AddEditCharacter", "Home", new { id = item.CharacterID })
						</div>
	 }
					<div class="event">
						<a href="@Url.Action("CreateCharacter", "Home")"><i class="icon-plus-sign-alt icon-4x"></i>
						</a>
					</div>
				</div>
				<div id="tabs-3" class="tab">
					@foreach (var setting in ViewBag.Settings)
	 {
						<div class="event well"  draggable="true">
							@Html.Action("AddEditSetting", "Home", new { id = setting.ID })
						</div>
	 }
					<div class="event">
						<a href="@Url.Action("CreateSetting", "Home")"><i class="icon-plus-sign-alt icon-4x"></i>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal-dialog" id="dialog-confirm" style="display: none">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close">&times;</button>
        <h4 class="modal-title">Are you sure to delete ?</h4>
      </div>
	</div>
</div>
<div id="dialog-edit" style="display: none">
</div>
<script type="text/javascript">
	$(document).ready(function () {

		//Start of test code.
		$.ajaxSetup({ cache: false });

		$('.sceneForm').change(function () {
			$('.sceneForm').trigger('input.submit');
		});

		$("#tabs").tabs().addClass("ui-tabs-vertical ui-helper-clearfix");
		$("#tabs li").removeClass("ui-corner-top").addClass("ui-corner-left");

		$(".confirmDialog").on("click", function (e) {

			var url = $(this).attr('href');
			$("#dialog-confirm").dialog({
				autoOpen: false,
				resizable: false,
				height: 170,
				width: 350,
				show: { effect: 'drop', direction: "up" },
				modal: true,
				draggable: true,
				buttons: {
					"OK": function () {
						$(this).dialog("close");
						window.location = url;

					},
					"Cancel": function () {
						$(this).dialog("close");

					}
				}
			});
			$("#dialog-confirm").dialog('open');
			return false;
		});

		$("#btncancel").on("click", function (e) {
			$("#dialog-edit").dialog('close');

		});


	});
</script>
